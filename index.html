<!DOCTYPE html>
<html>
<body>

        <div>
                This is the header of my local site. The OmniDesk iFrame start below this line...
        </div>

        <form method="post">
                <select onchange="go(this);">
                        <option value="">Select an action</option>
                        <option value="https://7c641c42.ngrok.io/api_web/create_user">Create User</option>
                        <option value="https://7c641c42.ngrok.io/api_web/update_user/144">Update User</option>
                        <option value="https://7c641c42.ngrok.io/api_web/create_patient">Create Patient</option>
                        <option value="https://7c641c42.ngrok.io/api_web/update_patient/144">Update Patient</option>
                        <option value="https://7c641c42.ngrok.io/api_web/create_consultation">Create Consultation</option>
                </select>
        </form>
        <hr/>

        <iframe id="omnidesk" src="" width="500" height="500">
                <p>Your browser does not support iframes.</p>
        </iframe>

        <hr />

        <div>
                The is the footer of my local site. The OmniDesk iFrame ends above this line...
        </div>

        <script>
                function go(selectObject) {
                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', selectObject.value);
                    xhr.onreadystatechange = handler;
                    xhr.responseType = 'blob';
                    xhr.setRequestHeader('x-authorization', '7528765ab79f146a3b6508e0e4b57082d5878c37');
                    xhr.send();

                    function handler() {
                        if (this.readyState === this.DONE) {
                            if (this.status === 200) {
                                var data_url = URL.createObjectURL(this.response);
                                document.getElementById('omnidesk').src = data_url;
                            } else {
                                console.error('Something went wrong...');
                            }
                        }
                    }
                }
        </script>
</body>
</html>
